import { EndpointParameterInstructions } from "@smithy/middleware-endpoint";
import { Command as $Command } from "@smithy/smithy-client";
import { Handler, HttpHandlerOptions as __HttpHandlerOptions, MetadataBearer as __MetadataBearer, MiddlewareStack } from "@smithy/types";
import { AssumeRoleWithSAMLRequest, AssumeRoleWithSAMLResponse } from "../models/models_0";
import { ServiceInputTypes, ServiceOutputTypes, STSClientResolvedConfig } from "../STSClient";
/**
 * @public
 */
export { __MetadataBearer, $Command };
/**
 * @public
 *
 * The input for {@link AssumeRoleWithSAMLCommand}.
 */
export interface AssumeRoleWithSAMLCommandInput extends AssumeRoleWithSAMLRequest {
}
/**
 * @public
 *
 * The output of {@link AssumeRoleWithSAMLCommand}.
 */
export interface AssumeRoleWithSAMLCommandOutput extends AssumeRoleWithSAMLResponse, __MetadataBearer {
}
/**
 * @public
 * <p>Returns a set of temporary security credentials for users who have been authenticated
 *          via a SAML authentication response. This operation provides a mechanism for tying an
 *          enterprise identity store or directory to role-based Amazon Web Services access without user-specific
 *          credentials or configuration. For a comparison of <code>AssumeRoleWithSAML</code> with the
 *          other API operations that produce temporary credentials, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html">Requesting Temporary Security
 *             Credentials</a> and <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html#stsapi_comparison">Comparing the
 *             Amazon Web Services STS API operations</a> in the <i>IAM User Guide</i>.</p>
 *          <p>The temporary security credentials returned by this operation consist of an access key
 *          ID, a secret access key, and a security token. Applications can use these temporary
 *          security credentials to sign calls to Amazon Web Services services.</p>
 *          <p>
 *             <b>Session Duration</b>
 *          </p>
 *          <p>By default, the temporary security credentials created by
 *             <code>AssumeRoleWithSAML</code> last for one hour. However, you can use the optional
 *             <code>DurationSeconds</code> parameter to specify the duration of your session. Your
 *          role session lasts for the duration that you specify, or until the time specified in the
 *          SAML authentication response's <code>SessionNotOnOrAfter</code> value, whichever is
 *          shorter. You can provide a <code>DurationSeconds</code> value from 900 seconds (15 minutes)
 *          up to the maximum session duration setting for the role. This setting can have a value from
 *          1 hour to 12 hours. To learn how to view the maximum value for your role, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html#id_roles_use_view-role-max-session">View the
 *             Maximum Session Duration Setting for a Role</a> in the
 *             <i>IAM User Guide</i>. The maximum session duration limit applies when
 *          you use the <code>AssumeRole*</code> API operations or the <code>assume-role*</code> CLI
 *          commands. However the limit does not apply when you use those operations to create a
 *          console URL. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html">Using IAM Roles</a> in the
 *             <i>IAM User Guide</i>.</p>
 *          <note>
 *             <p>
 *                <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-role-chaining">Role chaining</a> limits your CLI or Amazon Web Services API role
 *             session to a maximum of one hour. When you use the <code>AssumeRole</code> API operation
 *             to assume a role, you can specify the duration of your role session with the
 *                <code>DurationSeconds</code> parameter. You can specify a parameter value of up to
 *             43200 seconds (12 hours), depending on the maximum session duration setting for your
 *             role. However, if you assume a role using role chaining and provide a
 *                <code>DurationSeconds</code> parameter value greater than one hour, the operation
 *             fails.</p>
 *          </note>
 *          <p>
 *             <b>Permissions</b>
 *          </p>
 *          <p>The temporary security credentials created by <code>AssumeRoleWithSAML</code> can be
 *          used to make API calls to any Amazon Web Services service with the following exception: you cannot call
 *          the STS <code>GetFederationToken</code> or <code>GetSessionToken</code> API
 *          operations.</p>
 *          <p>(Optional) You can pass inline or managed <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">session policies</a> to
 *          this operation. You can pass a single JSON policy document to use as an inline session
 *          policy. You can also specify up to 10 managed policy Amazon Resource Names (ARNs) to use as
 *          managed session policies. The plaintext that you use for both inline and managed session
 *          policies can't exceed 2,048 characters. Passing policies to this operation returns new
 *          temporary credentials. The resulting session's permissions are the intersection of the
 *          role's identity-based policy and the session policies. You can use the role's temporary
 *          credentials in subsequent Amazon Web Services API calls to access resources in the account that owns
 *          the role. You cannot use session policies to grant more permissions than those allowed
 *          by the identity-based policy of the role that is being assumed. For more information, see
 *             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">Session
 *             Policies</a> in the <i>IAM User Guide</i>.</p>
 *          <p>Calling <code>AssumeRoleWithSAML</code> does not require the use of Amazon Web Services security
 *          credentials. The identity of the caller is validated by using keys in the metadata document
 *          that is uploaded for the SAML provider entity for your identity provider. </p>
 *          <important>
 *             <p>Calling <code>AssumeRoleWithSAML</code> can result in an entry in your CloudTrail logs.
 *             The entry includes the value in the <code>NameID</code> element of the SAML assertion.
 *             We recommend that you use a <code>NameIDType</code> that is not associated with any
 *             personally identifiable information (PII). For example, you could instead use the
 *             persistent identifier
 *             (<code>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</code>).</p>
 *          </important>
 *          <p>
 *             <b>Tags</b>
 *          </p>
 *          <p>(Optional) You can configure your IdP to pass attributes into your SAML assertion as
 *          session tags. Each session tag consists of a key name and an associated value. For more
 *          information about session tags, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_session-tags.html">Passing Session Tags in STS</a> in the
 *             <i>IAM User Guide</i>.</p>
 *          <p>You can pass up to 50 session tags. The plaintext session tag keys canâ€™t exceed 128
 *          characters and the values canâ€™t exceed 256 characters. For these and additional limits, see
 *             <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_iam-limits.html#reference_iam-limits-entity-length">IAM
 *             and STS Character Limits</a> in the <i>IAM User Guide</i>.</p>
 *          <note>
 *             <p>An Amazon Web Services conversion compresses the passed inline session policy, managed policy ARNs,
 *             and session tags into a packed binary format that has a separate limit. Your request can
 *             fail for this limit even if your plaintext meets the other requirements. The
 *                <code>PackedPolicySize</code> response element indicates by percentage how close the
 *             policies and tags for your request are to the upper size limit.</p>
 *          </note>
 *          <p>You can pass a session tag with the same key as a tag that is attached to the role. When
 *          you do, session tags override the role's tags with the same key.</p>
 *          <p>An administrator must grant you the permissions necessary to pass session tags. The
 *          administrator can also create granular permissions to allow you to pass only specific
 *          session tags. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_attribute-based-access-control.html">Tutorial: Using Tags
 *             for Attribute-Based Access Control</a> in the
 *          <i>IAM User Guide</i>.</p>
 *          <p>You can set the session tags as transitive. Transitive tags persist during role
 *          chaining. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_session-tags.html#id_session-tags_role-chaining">Chaining Roles
 *             with Session Tags</a> in the <i>IAM User Guide</i>.</p>
 *          <p>
 *             <b>SAML Configuration</b>
 *          </p>
 *          <p>Before your application can call <code>AssumeRoleWithSAML</code>, you must configure
 *          your SAML identity provider (IdP) to issue the claims required by Amazon Web Services. Additionally, you
 *          must use Identity and Access Management (IAM) to create a SAML provider entity in your Amazon Web Services account that
 *          represents your identity provider. You must also create an IAM role that specifies this
 *          SAML provider in its trust policy. </p>
 *          <p>For more information, see the following resources:</p>
 *          <ul>
 *             <li>
 *                <p>
 *                   <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_saml.html">About
 *                   SAML 2.0-based Federation</a> in the <i>IAM User Guide</i>.
 *             </p>
 *             </li>
 *             <li>
 *                <p>
 *                   <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_saml.html">Creating SAML Identity Providers</a> in the
 *                   <i>IAM User Guide</i>. </p>
 *             </li>
 *             <li>
 *                <p>
 *                   <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_saml_relying-party.html">Configuring
 *                   a Relying Party and Claims</a> in the <i>IAM User Guide</i>.
 *             </p>
 *             </li>
 *             <li>
 *                <p>
 *                   <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp_saml.html">Creating a Role for SAML 2.0 Federation</a> in the
 *                   <i>IAM User Guide</i>. </p>
 *             </li>
 *          </ul>
 * @example
 * Use a bare-bones client and the command you need to make an API call.
 * ```javascript
 * import { STSClient, AssumeRoleWithSAMLCommand } from "@aws-sdk/client-sts"; // ES Modules import
 * // const { STSClient, AssumeRoleWithSAMLCommand } = require("@aws-sdk/client-sts"); // CommonJS import
 * const client = new STSClient(config);
 * const input = { // AssumeRoleWithSAMLRequest
 *   RoleArn: "STRING_VALUE", // required
 *   PrincipalArn: "STRING_VALUE", // required
 *   SAMLAssertion: "STRING_VALUE", // required
 *   PolicyArns: [ // policyDescriptorListType
 *     { // PolicyDescriptorType
 *       arn: "STRING_VALUE",
 *     },
 *   ],
 *   Policy: "STRING_VALUE",
 *   DurationSeconds: Number("int"),
 * };
 * const command = new AssumeRoleWithSAMLCommand(input);
 * const response = await client.send(command);
 * // { // AssumeRoleWithSAMLResponse
 * //   Credentials: { // Credentials
 * //     AccessKeyId: "STRING_VALUE", // required
 * //     SecretAccessKey: "STRING_VALUE", // required
 * //     SessionToken: "STRING_VALUE", // required
 * //     Expiration: n€          ’     p_[    B7qˆ»ÊÙ               B < P G A D M I N 4 - 6 . 1 4 - X 6 4 . T M P - D A 9 9 0 B 3 4 . p f   €          ’    €p_[    B7qˆ»ÊÙ  €            B < P G A D M I N 4 - 6 . 1 4 - X 6 4 . T M P - D A 9 9 0 B 3 4 . p f   p      jP    ’     q_[    B7qˆ»ÊÙ               0 < P G A D M I N 4 . E X E - A 6 7 5 8 7 3 B . p f     p      jP    ’    pq_[    B7qˆ»ÊÙ  €            0 < P G A D M I N 4 . E X E - A 6 7 5 8 7 3 B . p f     p      –    ’    àq_[    B7qˆ»ÊÙ               2 < P N P U P D A T E . E X E - 5 A 3 0 3 E 8 B . p f   p      –    ’    Pr_[    B7qˆ»ÊÙ  €            2 < P N P U P D A T E . E X E - 5 A 3 0 3 E 8 B . p f   €      ›˜    ’    Àr_[    B7qˆ»ÊÙ               > < P O S T I N S T A L L P R E P . E X E - 1 E 1 B 6 4 7 0 . p f       €      ›˜    ’    @s_[    B7qˆ»ÊÙ  €            > < P O S T I N S T A L L P R E P . E X E - 1 E 1 B 6 4 7 0 . p f       ˆ      ¸T    ’    Às_[    B7qˆ»ÊÙ               F < P S E I N T - W 3 2 - 2 0 1 9 1 1 2 7 . E X E - 5 3 3 4 C A E 5 . p f       ˆ      ¸T    ’    Ht_[    B7qˆ»ÊÙ  €            F < P S E I N T - W 3 2 - 2 0 1 9 1 1 2 7 . E X E - 5 3 3 4 C A E 5 . p f             ÝÔ    ’    Ðt_[    B7qˆ»ÊÙ               R < P S I P H O N - 1 7 9 - 2 0 2 3 0 6 2 5 0 7 0 7 1 8 . E X - 4 6 1 C D 8 0 D . p f         ÝÔ    ’    `u_[    B7qˆ»ÊÙ  €            R < P S I P H O N - 1 7 9 - 2 0 2 3 0 6 2 5 0 7 0 7 1 8 . E X - 4 6 1 C D 8 0 D . p f         YB   
 ’    ðu_[    B7qˆ»ÊÙ               R < P Y C H A R M - C O M M U N I T Y - 2 0 2 3 . 1 . 2 . E X - 9 C 3 F 0 C 0 0 . p f         YB   
 ’    €v_[    B7qˆ»ÊÙ  €            R < P Y C H A R M - C O M M U N I T Y - 2 0 2 3 . 1 . 2 . E X - 9 C 3 F 0 C 0 0 . p f   €      ƒ·    ’    w_[    B7qˆ»ÊÙ               D < P Y T H O N - 3 . 7 . 5 - A M D 6 4 . E X E - 2 4 2 D 0 0 3 E . p f €      ƒ·    ’    w_[    B7qˆ»ÊÙ  €            D < P Y T H O N - 3 . 7 . 5 - A M D 6 4 . E X E - 2 4 2 D 0 0 3 E . p f €      ºË    ’    x_[    B7qˆ»ÊÙ               D < P Y T H O N - 3 . 7 . 5 - A M D 6 4 . E X E - 3 E F D A 9 0 7 . p f €      ºË    ’    x_[    B7qˆ»ÊÙ  €            D < P Y T H O N - 3 . 7 . 5 - A M D 6 4 . E X E - 3 E F D A 9 0 7 . p f €      ·    ’    y_[    B7qˆ»ÊÙ               D < P Y T H O N - 3 . 7 . 5 - A M D 6 4 . E X E - 8 5 7 C 0 5 4 E . p f €      ·    ’    y_[    B7qˆ»ÊÙ  €            D < P Y T H O N - 3 . 7 . 5 - A M D 6 4 . E X E - 8 5 7 C 0 5 4 E . p f x      âT    ’    z_[    B7qˆ»ÊÙ               6 < R - 3 . 5 . 3 - W I N . T M P - 0 E 7 0 F 9 4 0 . p f       x      âT    ’    ˆz_[    B7qˆ»ÊÙ  €            6 < R - 3 . 5 . 3 - W I N . T M P - 0 E 7 0 F 9 4 0 . p f       €      e0    ’     {_[    B7qˆ»ÊÙ               D < R D R S E R V I C E S U P D A T E R . E X E - B B B 9 F 0 B A . p f €      e0    ’    €{_[    B7qˆ»ÊÙ  €            D < R D R S E R V I C E S U P D A T E R . E X E - B B B 9 F 0 B A . p f ˆ      >—    ’     |_[    B7qˆ»ÊÙ               L < R D R S E R V I C E S U P D A T E R 2 _ E S . E X E - 8 0 3 A F 0 7 1 . p f ˆ      >—    ’    ˆ|_[    B7qˆ»ÊÙ  €            L < R D R S E R V I C E S U P D A T E R 2 _ E S . E X E - 8 0 3 A F 0 7 1 . p f P      ’    ’    }_[    B7qˆ»ÊÙ               < R e a d y B o o t   P      ’    ’    `}_[    B7qˆ»ÊÙ  €            < R e a d y B o o t   h      )¢    ’    °}_[    B7qˆ»ÊÙ               ( < R e s P r i H M S t a t i c D b . e b d     h      )¢    ’    ~_[    B7qˆ»ÊÙ  €            ( < R e s P r i H M S t a t i c D b . e b d     €      à•    ’    €~_[    B7qˆ»ÊÙ               D < R O M _ C H E C K _ A U X _ T O O L . E X E - 0 6 8 6 5 3 0 6 . p f €      à•    ’     _[    B7qˆ»ÊÙ  €            D < R O M _ C H E C K _ A U X _ T O O L . E X E - 0 6 8 6 5 3 0 6 . p f €      È–    ’    €_[    B7qˆ»ÊÙ               @ < R T K A U D U S E R V I C E 6 4 . E X E - 5 A 8 5 D B 5 9 . p f     €      È–    ’     €_[    B7qˆ»ÊÙ  €            @ < R T K A U D U S E R V I C E 6 4 . E X E - 5 A 8 5 D B 5 9 . p f     p      íÝ    ’    €€_[    Ÿ™sˆ»ÊÙ               0 < R U N D L L 3 2 . E X E - 2 6 4 C D 7 B 5 . p f     p      íÝ    ’    ð€_[    Ÿ™sˆ»ÊÙ  €            0 < R U N D L L 3 2 . E X E - 2 6 4 C D 7 B 5 . p f     p      ¿–    ’    `_[    Ÿ™sˆ»ÊÙ               0 < R U N D L L 3 2 . E X E - 4 6 4 8 3 6 E D . p f     p      ¿–    ’    Ð_[    Ÿ™sˆ»ÊÙ  €            0 < R U N D L L 3 2 . E X E - 4 6 4 8 3 6 E D . p f     p      Î     ’    @‚_[    Ÿ™sˆ»ÊÙ               0 < R U N D L L 3 2 . E X E - 4 C 1 6 9 A A 3 . p f     p      Î     ’    °‚_[    Ÿ™sˆ»ÊÙ  €            0 < R U N D L L 3 2 . E X E - 4 C 1 6 9 A A 3 . p f     p      ÚÁ    ’     ƒ_[    Ÿ™sˆ»ÊÙ               0 < R U N D L L 3 2 . E X E - A 3 E 6 0 F F A . p f     p      ÚÁ    ’    ƒ_[    Ÿ™sˆ»ÊÙ  €            0 < R U N D L L 3 2 . E X E - A 3 E 6 0 F F A . p f     p      ­    ’     „_[    Ÿ™sˆ»ÊÙ               0 < R U N D L L 3 2 . E X E - C C 9 B 1 4 A 9 . p f     p      ­    ’    p„_[    Ÿ™sˆ»ÊÙ  €            0 < R U N D L L 3 2 . E X E - C C 9 B 1 4 A 9 . p f     p      Q—    ’    à„_[    Ÿ™sˆ»ÊÙ               0 < R U N D L L 3 2 . E X E - F D C B B 5 A 1 . p f     p      Q—    ’    P…_[    Ÿ™sˆ»ÊÙ  €            0 < R U N D L L 3 2 . E X E - F D C B B 5 A 1 . p f     x      ~Ò     ’    À…_[    Ÿ™sˆ»ÊÙ               : < R U N T I M E B R O K E R . E X E - 4 5 5 1 A 0 6 2 . p f   x      ~Ò     ’    8†_[    Ÿ™sˆ»ÊÙ  €            : < R U N T I M E B R O K E R . E X E - 4 5 5 1 A 0 6 2 . p f   x      #    ’    °†_[    Ÿ™sˆ»ÊÙ               : < R U N T I M E B R O K E R . E X E - 5 E 8 A F 4 E 5 . p f   x      #    ’    (‡_[    Ÿ™sˆ»ÊÙ  €            : < R U N T I M E B R O K E R . E X E - 5 E 8 A F 4 E 5 . p f   x      fƒ    ’     ‡_[    Ÿ™sˆ»ÊÙ               : < R U N T I M E B R O K E R . E X E - 6 7 3 1 0 5 9 3 . p f   x      fƒ    ’    ˆ_[    Ÿ™sˆ»ÊÙ  €            : < R U N T I M E B R O K E R . E X E - 6 7 3 1 0 5 9 3 . p f   x      š     ’    ˆ_[    Ÿ™sˆ»ÊÙ               : < R U N T I M E B R O K E R . E X E - 7 8 2 7 2 D 0 C . p f   x      š     ’    ‰_[    Ÿ™sˆ»ÊÙ  €            : < R U N T I M E B R O K E R . E X E - 7 8 2 7 2 D 0 C . p f   x      «—    ’    €‰_[    Ÿ™sˆ»ÊÙ               : < R U N T I M E B 